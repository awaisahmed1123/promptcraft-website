---
// src/pages/blog/[slug].astro
import { getCollection } from 'astro:content';
import MainLayout from '../../layouts/MainLayout.astro';

export async function getStaticPaths() {
  const blogEntries = await getCollection('blog');
  return blogEntries.map(entry => ({
    params: { slug: entry.slug }, props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---
<MainLayout>
  <article class="container">
    <header class="post-header">
      <h1 class="title">{entry.data.title}</h1>
      <p class="publish-date">Published on: {entry.data.publishDate}</p>
      <img src={entry.data.heroImage} alt={entry.data.title} class="hero-image" />
    </header>
    <div class="post-content">
      <Content />
    </div>
  </article>
</MainLayout>
<style is:global>
  .container { max-width: 800px; margin: 0 auto; padding: 2rem; }
  .post-header { margin-bottom: 3rem; text-align: center; }
  .title { font-size: 3rem; line-height: 1.2; margin-bottom: 1rem; }
  .publish-date { color: #888; font-weight: 700; margin-bottom: 2rem; }
  .hero-image { width: 100%; border-radius: 12px; margin-bottom: 2rem; }
  
  .post-content { font-size: 1.1rem; line-height: 1.8; color: #b3b3b3; }
  .post-content h2, .post-content h3, .post-content h4 { 
    color: #FFBF00; 
    font-family: 'Playfair Display', serif; 
    margin: 2.5rem 0 1.5rem 0; 
    line-height: 1.3;
  }
  .post-content img { max-width: 100%; border-radius: 8px; margin: 1.5rem 0; }
  .post-content hr {
    border: none;
    border-top: 1px solid #333;
    margin: 3rem auto;
  }
</style>